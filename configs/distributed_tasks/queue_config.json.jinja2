{
  "trainTasks": [
{%- for experiment in experiments -%}
  {
    "type": "distributed",
    "lambda": {{ experiment[6] }},
    "preemptJobs": false,
    "jobClassParameters": [
      {
        "classProbability": 0.1,
        "priorities": [
            {
              "priority": 1,
              "probability": 0.9
            },
            {
              "priority": 0,
              "probability": 0.1
            }
        ],
        "networkConfiguration": {{ experiment[5] }},
        "systemParameters": {
          "dataParallelism": {{ experiment[4] }},
          "configurations": {
            "Master": {
              "cores": "{{ (experiment[0] | safe) }}",
              "memory": "{{ (experiment[1] | safe) }}"
            },
            "Worker": {
              "cores": "{{ (experiment[0] | safe) }}",
              "memory": "{{ (experiment[1] | safe) }}"
            }
          }
        },
        "hyperParameters": {
          "default": {
            "totalEpochs": 5,
            "batchSize": {{ experiment[2] }},
            "testBatchSize": {{ experiment[3] }},
            "learningRateDecay": 0.1,
            "optimizerConfig": {
              "type": "Adam",
              "learningRate": 0.001,
              "betas": [
                0.9,
                0.999
              ]
            },
            "schedulerConfig": {
              "schedulerStepSize": 50,
              "schedulerGamma": 0.5,
              "minimumLearningRate": 1e-10
            }
          },
          "configurations": {
            "Master": null,
            "Worker": null
          }
        },
        "learningParameters": {
          "cuda": false
        }
      }
    ]
  }{% if not loop.last %},{% endif %}
{%- endfor -%}
  ]
}